# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É ngrok –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è WhatsApp –±–æ—Ç–∞

## üìã –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω –∏ —Å–ª—É—à–∞—Ç—å –Ω–∞ –ø–æ—Ä—Ç—É 8000. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```powershell
netstat -ano | findstr ":8000"
```

–ï—Å–ª–∏ –±–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ:
```powershell
python bot_polya_whatsapp.py
```

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok

–û—Ç–∫—Ä–æ–π—Ç–µ **–Ω–æ–≤–æ–µ –æ–∫–Ω–æ PowerShell** (–Ω–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –æ–∫–Ω–æ —Å –±–æ—Ç–æ–º!) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```powershell
ngrok http 8000
```

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ HTTPS URL

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ ngrok –≤—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

```
Session Status                online
Account                       your-email@example.com
Version                       3.24.0
Region                        United States (us)
Latency                       -
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://abc123.ngrok-free.app -> http://localhost:8000
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL:** `https://abc123.ngrok-free.app`

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL –¥–ª—è webhook

–í–∞—à **WEBHOOK_URL** –±—É–¥–µ—Ç:
```
https://abc123.ngrok-free.app/webhook
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –î–æ–±–∞–≤—å—Ç–µ `/webhook` –≤ –∫–æ–Ω–µ—Ü URL!

### –®–∞–≥ 5: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook –≤ 360dialog

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://hub.360dialog.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **"Webhooks"** –∏–ª–∏ **"Configuration"**
3. –£–∫–∞–∂–∏—Ç–µ:
   - **Webhook URL:** `https://abc123.ngrok-free.app/webhook`
   - **Verify Token:** `terra_verify123` (–∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞)

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ngrok: http://127.0.0.1:4040
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ `start` –≤ WhatsApp
3. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ ngrok –≤—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –≤–∞—à–µ–º—É –±–æ—Ç—É

## üîß –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:4040 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ **"Copy"** —Ä—è–¥–æ–º —Å HTTPS URL
3. –î–æ–±–∞–≤—å—Ç–µ `/webhook` –≤ –∫–æ–Ω–µ—Ü

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–ù–µ –∑–∞–∫—Ä—ã–≤–∞–π—Ç–µ –æ–∫–Ω–æ ngrok** - –ø–æ–∫–∞ –æ–Ω–æ –æ—Ç–∫—Ä—ã—Ç–æ, —Ç—É–Ω–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **URL –º–µ–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ ngrok (–µ—Å–ª–∏ –Ω–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞)
3. **–î–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ URL** –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ngrok –∏–ª–∏ –¥–æ–º–µ–Ω
4. **–ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω** –¥–æ –∑–∞–ø—É—Å–∫–∞ ngrok

## üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ù–∞–∂–º–∏—Ç–µ `Ctrl+C` –≤ –æ–∫–Ω–µ ngrok
2. –¢—É–Ω–Ω–µ–ª—å –∑–∞–∫—Ä–æ–µ—Ç—Å—è, URL –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

## üìù –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–π –∫–æ–º–∞–Ω–¥—ã

```powershell
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
cd "C:\BOTIKI\bot whats app"
python bot_polya_whatsapp.py

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ ngrok
ngrok http 8000
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É `start` –≤ WhatsApp. –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º
- ‚úÖ –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ ngrok (http://127.0.0.1:4040) –ø–æ—è–≤—è—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã

